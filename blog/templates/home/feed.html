{% extends 'base.html' %}
{% block content %}
<!--blogsearchingfunctionailtyr -->
    <section class="section">
    <div class="container">
<p class="title is-4">Feed</p>
    <form  class="mt-2 mt-md-0" action="{% url 'feed' %}" method="GET" accept-charset="utf-8">
       {% csrf_token %}
       <div class="input-group">
         <input class="form-control form-control-lg" type="text" placeholder="Search" id="searchbar" name="searchbar" value="">
         <span class="input-group-btn">
           <button class="btn btn-info" type="submit">Go!</button>
         </span>
       </div>
    </form>

    <hr>
        Tags: {% for tag in tags %}
<a href = "{% url 'tag' tag_id=tag.id %}">
    <strong>{{tag.title}}</strong>
</a>{% endfor %}{% if reset %}
<a href = "{% url 'feed' %}">Unapply tag</a>
{% endif %}
<hr>
<table>

    {% for p in posts %}
     {% include '../body/blog_tile.html' with blog=p %}
    <tr>
        <td>{{p.title}}</td>
        <td>{{p.content}}</td>
        <td>
            {% for t in p.get_tags %}
            <a href = "{% url 'tag' tag_id=t.id %}">
                <strong>{{t.title}}</strong>
            </a>,
 <!-- end of blogsearchingfunctionailtyr -->       
<!-- master -->
          <div class="columns is-mobile is-centered">
        <div class="column is-half is-narrow">
            {% for p in posts %}
                {% if p.type == "FEAT" %}
                    <div class="card box">
                <div class="card-image">
                    <figure class="image">
                        <img src="http://via.placeholder.com/700x300" alt="Placeholder image">
                    </figure>
                </div>
                <div class="card-content">
                    <div class="media">
                        <div class="media-left">
                            <figure class="image is-48x48">
                                <img src="https://bulma.io/images/placeholders/96x96.png" alt="Placeholder image">
                            </figure>
                        </div>
                        <div class="media-content">
                            <p class="title is-4">{{ p.title }}</p>
                            <p class="subtitle is-6">@johnsmith</p>
                        </div>
                    </div>

                    <div class="content">
                        {{ p.content }}
                        <br>
                        {% for t in p.get_tags %}
                            <a href = "{% url 'tag' tag_id=t.id %}">#{{t.title}}</a>
                        {% endfor %}
                        <br>
                        <time datetime="2016-1-1">{{ p.date_created }}</time>
                    </div>
                </div>
            </div>
                {% elif p.type == "LINK" %}
                    <div class="link box">
                <article class="media">
                    <div class="media-left">
                        <figure class="image is-128x128">
                            <img src="https://ichef.bbci.co.uk/news/660/cpsprodpb/12FB4/production/_99084777_mediaitem99084776.jpg" alt="Image">
                        </figure>
                    </div>
                    <div class="media-content">
                        <div class="content">
                            <p>
                                <strong>{{ p.title }}</strong>
                                <small>8/12/2017</small>
                                <br>
                                {{ p.content }}
                            </p>
                        </div>
                        <nav class="level is-mobile">
                            {% for t in p.get_tags %}
                            <a href = "{% url 'tag' tag_id=t.id %}">#{{t.title}}</a>
                        {% endfor %}
                        </nav>
                    </div>
                </article>
            </div>
                {% endif %}
          <!--- end of master -->

          
          
          {% endfor %}

            <nav class="pagination is-centered" role="navigation" aria-label="pagination">
            <a class="pagination-previous">Previous</a>
            <a class="pagination-next">Next page</a>
            <ul class="pagination-list">
              <li><a class="pagination-link" aria-label="Goto page 1">1</a></li>
              <li><span class="pagination-ellipsis">&hellip;</span></li>
              <li><a class="pagination-link" aria-label="Goto page 6">6</a></li>
              <li><a class="pagination-link is-current" aria-label="Page 7" aria-current="page">7</a></li>
              <li><a class="pagination-link" aria-label="Goto page 8">8</a></li>
              <li><span class="pagination-ellipsis">&hellip;</span></li>
              <li><a class="pagination-link" aria-label="Goto page 15">15</a></li>
            </ul>
          </nav>
        </div>
    </div>
{% endblock %}
<!-- testing modal pop up -->
<script>

function openPostModal(){
    jQuery.noConflict();
    $("#PostModal").modal("show");
}


</script>

<div id="postModal" class="modal fade in" style="width:100% ;height:100%">
  <div class="modal-dialog" style="width:40%;height:80%">
    <!-- Modal content-->
    <div class="modal-content"  style = "width:100%">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Post Title will go here</h4>
      </div>

      <div class="modal-body" style = "width:100%">
        <p><b>Subject: post content will go here</b></p>
        <hr>

      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-success" onclick = "buttonFavourite()" data-dismiss="modal"> Favourite </button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<a class="section" onclick='openPostModal()'>Click here to open modal</a>
